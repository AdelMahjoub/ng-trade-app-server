webpackJsonp([2],{"/yWU":function(l,n,u){"use strict";function t(l){return g._1(0,[(l()(),g._2(0,null,null,3,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),g._3(null,["\n        Game details\n        "])),(l()(),g._2(0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(l()(),g._3(null,["\n        "]))],null,function(l,n){l(n,0,0,n.component.userGame.url)})}function e(l){return g._1(0,[(l()(),g._3(null,["       \n          "])),(l()(),g._2(0,null,null,12,"p",[],null,null,null,null,null)),(l()(),g._3(null,["\n            "])),(l()(),g._2(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),g._3(null,["Owner: "])),(l()(),g._3(null,["\n            "])),(l()(),g._2(0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==g._6(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),g._8(671744,null,0,b.y,[b.c,b.a,v.d],{routerLink:[0,"routerLink"]},null),g._22(2),(l()(),g._3(null,["\n              "])),(l()(),g._2(0,null,null,1,"span",[],null,null,null,null,null)),(l()(),g._3(null,["",""])),(l()(),g._3(null,["\n            "])),(l()(),g._3(null,["\n          "])),(l()(),g._3(null,["\n        "]))],function(l,n){l(n,7,0,l(n,8,0,"/games",n.component.userGame.owner.username))},function(l,n){var u=n.component;l(n,6,0,g._6(n,7).target,g._6(n,7).href),l(n,11,0,u.userGame.owner.username)})}function i(l){return g._1(0,[(l()(),g._2(0,null,null,3,"p",[],null,null,null,null,null)),(l()(),g._3(null,["\n          "])),(l()(),g._2(0,null,null,0,"span",[["class","text-info"]],[[8,"innerText",0]],null,null,null,null)),(l()(),g._3(null,["\n        "]))],null,function(l,n){l(n,2,0,n.component.notification)})}function r(l){return g._1(0,[(l()(),g._2(0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.addGame()&&t}return t},null,null)),(l()(),g._3(null,["Add to my collection"]))],null,null)}function s(l){return g._1(0,[(l()(),g._2(0,null,null,1,"button",[["class","btn btn-default"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.requestGame()&&t}return t},null,null)),(l()(),g._3(null,["Request the game"]))],null,null)}function a(l){return g._1(0,[(l()(),g._2(0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.retract()&&t}return t},null,null)),(l()(),g._3(null,["Retract"]))],null,null)}function c(l){return g._1(0,[(l()(),g._2(0,null,null,1,"button",[["class","btn btn-info"],["disabled",""]],null,null,null,null,null)),(l()(),g._3(null,["Your Game"]))],null,null)}function o(l){return g._1(0,[(l()(),g._2(0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.discard()&&t}return t},null,null)),(l()(),g._3(null,["Discard"]))],null,null)}function _(l){return g._1(0,[(l()(),g._2(0,null,null,45,"div",[["class","col-xs-12 col-md-4"]],null,null,null,null,null)),(l()(),g._3(null,["  \n\n  "])),(l()(),g._2(0,null,null,42,"div",[["class","panel panel-default game-panel"]],null,null,null,null,null)),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,3,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),g._3(null,["\n        "])),(l()(),g._2(0,null,null,0,"h3",[["class","panel-title"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),g._3(null,["\n      "])),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,16,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),g._3(null,["\n        "])),(l()(),g._2(0,null,null,0,"img",[["class","img-thumbnail img-responsive"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(l()(),g._3(null,["\n        "])),(l()(),g._2(0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),g._3(null,["\n        "])),(l()(),g._7(16777216,null,null,1,null,t)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n         "])),(l()(),g._2(0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),g._3(null,["\n\n        "])),(l()(),g._7(16777216,null,null,1,null,e)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n        \n        "])),(l()(),g._7(16777216,null,null,1,null,i)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n       \n      "])),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,16,"div",[["class","panel-footer"]],null,null,null,null,null)),(l()(),g._3(null,["\n        "])),(l()(),g._7(16777216,null,null,1,null,r)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n        \n        "])),(l()(),g._7(16777216,null,null,1,null,s)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n         "])),(l()(),g._7(16777216,null,null,1,null,a)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n        "])),(l()(),g._7(16777216,null,null,1,null,c)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n        "])),(l()(),g._7(16777216,null,null,1,null,o)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n    \n      "])),(l()(),g._3(null,["\n  "])),(l()(),g._3(null,["\n"]))],function(l,n){var u=n.component;l(n,16,0,u.userGame.url),l(n,21,0,u.userGame.owner),l(n,24,0,u.notification),l(n,30,0,!u.userGame.owner),l(n,33,0,u.userGame.owner&&!u.authIsOwner&&!u.gameIsRequested),l(n,36,0,u.gameIsRequested),l(n,39,0,u.authIsOwner),l(n,42,0,u.authIsOwner)},function(l,n){var u=n.component;l(n,6,0,u.userGame.name),l(n,11,0,u.userGame.coverUrl,u.userGame.name+" cover")})}function h(l){return g._1(0,[(l()(),g._2(0,null,null,6,"p",[],null,null,null,null,null)),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==g._6(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t}return t},null,null)),g._8(671744,null,0,b.y,[b.c,b.a,v.d],{routerLink:[0,"routerLink"]},null),g._22(2),(l()(),g._3(null,["\n        ","\n      "])),(l()(),g._3(null,["\n    "]))],function(l,n){l(n,3,0,l(n,4,0,"/games",n.context.$implicit.username))},function(l,n){l(n,2,0,g._6(n,3).target,g._6(n,3).href),l(n,5,0,n.context.$implicit.username)})}function f(l){return g._1(0,[(l()(),g._2(0,null,null,19,"div",[["class","col-xs-12 col-md-12"]],null,null,null,null,null)),(l()(),g._3(null,["\n  "])),(l()(),g._2(0,null,null,16,"div",[["class","well"]],null,null,null,null,null)),(l()(),g._3(null,["\n    "])),(l()(),g._2(0,null,null,4,"p",[],null,null,null,null,null)),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),g._3(null,["",""])),(l()(),g._3(null,["\n    "])),(l()(),g._3(null,["\n    "])),(l()(),g._2(0,null,null,4,"p",[],null,null,null,null,null)),(l()(),g._3(null,["\n      "])),(l()(),g._2(0,null,null,1,"em",[],null,null,null,null,null)),(l()(),g._3(null,["Requested By"])),(l()(),g._3(null,["\n    "])),(l()(),g._3(null,["\n    "])),(l()(),g._7(16777216,null,null,1,null,h)),g._8(802816,null,0,v.h,[g._9,g._10,g.l],{ngForOf:[0,"ngForOf"]},null),(l()(),g._3(null,["\n  "])),(l()(),g._3(null,["\n"]))],function(l,n){l(n,17,0,n.component.userGame.requestedBy)},function(l,n){l(n,7,0,n.component.userGame.name)})}function p(l){return g._1(0,[(l()(),g._7(16777216,null,null,1,null,_)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n"])),(l()(),g._7(16777216,null,null,1,null,f)),g._8(16384,null,0,v.i,[g._9,g._10],{ngIf:[0,"ngIf"]},null),(l()(),g._3(null,["\n\n\n\n"]))],function(l,n){var u=n.component;l(n,1,0,u.game&&"users-requests"!==u.path),l(n,4,0,"users-requests"===u.path)},null)}function m(l){return g._1(0,[(l()(),g._2(0,null,null,1,"app-game-item",[],null,null,null,p,G)),g._8(245760,null,0,y.a,[I.a,S.a,b.a],null,null)],function(l,n){l(n,1,0)},null)}var d=u("topO"),g=u("/oeL"),b=u("BkNc"),v=u("qbdv"),y=u("h4fv"),I=u("v1eE"),S=u("UqtS");u.d(n,"b",function(){return G}),n.a=p;var U=[d.a],G=g._0({encapsulation:0,styles:U,data:{}});g._12("app-game-item",y.a,m,{game:"game"},{},[])},"0sw+":function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u("/oeL"),e=u("kyEJ"),i=u("RNe4"),r=u("bse+"),s=u("qbdv"),a=u("BkNc"),c=u("b8/G"),o=u("yk11"),_=u("bii3");u.d(n,"GamesModuleNgFactory",function(){return h});var h=t.b(e.a,[],function(l){return t.c([t.d(512,t.e,t.f,[[8,[i.a,r.a]],[3,t.e],t.g]),t.d(4608,s.a,s.b,[t.h]),t.d(512,s.c,s.c,[]),t.d(512,a.x,a.x,[[2,a.m],[2,a.c]]),t.d(512,c.a,c.a,[]),t.d(512,e.a,e.a,[]),t.d(1024,a.t,function(){return[[{path:"",pathMatch:"full",component:o.a},{path:":id",component:_.a}]]},[])])})},Gmxc:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=[""]},RNe4:function(l,n,u){"use strict";function t(l){return _._1(0,[(l()(),_._2(0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),_._3(null,["\n      "])),(l()(),_._2(0,null,null,7,"div",[["class","col-xs-12 col-md-12"]],null,null,null,null,null)),(l()(),_._3(null,["\n        "])),(l()(),_._2(0,null,null,4,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),_._3(null,["\n          "])),(l()(),_._2(0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),_._3(null,["Games"])),(l()(),_._3(null,["\n        "])),(l()(),_._3(null,["\n      "])),(l()(),_._3(null,["\n    "]))],null,null)}function e(l){return _._1(0,[(l()(),_._2(0,null,null,1,"app-game-item",[],null,null,null,h.a,h.b)),_._8(245760,null,0,f.a,[p.a,m.a,d.a],{game:[0,"game"]},null)],function(l,n){l(n,1,0,n.context.$implicit)},null)}function i(l){return _._1(0,[(l()(),_._2(0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),_._3(null,["\n      "])),(l()(),_._7(16777216,null,null,1,null,e)),_._8(802816,null,0,g.h,[_._9,_._10,_.l],{ngForOf:[0,"ngForOf"]},null),(l()(),_._3(null,["\n    "]))],function(l,n){l(n,3,0,n.component.pageItems)},null)}function r(l){return _._1(0,[(l()(),_._2(0,null,null,6,"li",[],null,null,null,null,null)),_._8(278528,null,0,g.k,[_.l,_.n,_.Q,_.P],{ngClass:[0,"ngClass"]},null),_._21(["active"]),(l()(),_._3(null,["\n            "])),(l()(),_._2(0,null,null,1,"a",[["style","cursor: pointer"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.onPageNumberClick(l.context.$implicit)&&t}return t},null,null)),(l()(),_._3(null,["",""])),(l()(),_._3(null,["\n          "]))],function(l,n){var u=n.component;l(n,1,0,l(n,2,0,u.index/u.itemsPerPage===n.context.$implicit))},function(l,n){l(n,5,0,n.context.$implicit+1)})}function s(l){return _._1(0,[(l()(),_._2(0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(l()(),_._3(null,["\n      "])),(l()(),_._2(0,null,null,23,"div",[["class","col-xs-12 col-md-12 text-center"]],null,null,null,null,null)),(l()(),_._3(null,["\n        "])),(l()(),_._2(0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),_._3(null,["\n        "])),(l()(),_._2(0,null,null,16,"ul",[["class","pagination"]],null,null,null,null,null)),(l()(),_._3(null,["\n          "])),(l()(),_._2(0,null,null,4,"li",[],null,null,null,null,null)),(l()(),_._3(null,["\n            "])),(l()(),_._2(0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.previousPage()&&t}return t},null,null)),(l()(),_._3(null,["«"])),(l()(),_._3(null,["\n          "])),(l()(),_._3(null,["\n          "])),(l()(),_._7(16777216,null,null,1,null,r)),_._8(802816,null,0,g.h,[_._9,_._10,_.l],{ngForOf:[0,"ngForOf"]},null),(l()(),_._3(null,["\n          "])),(l()(),_._2(0,null,null,4,"li",[],null,null,null,null,null)),(l()(),_._3(null,["\n            "])),(l()(),_._2(0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.nextPage()&&t}return t},null,null)),(l()(),_._3(null,["»"])),(l()(),_._3(null,["\n          "])),(l()(),_._3(null,["\n        "])),(l()(),_._3(null,["\n        "])),(l()(),_._2(0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),_._3(null,["\n      "])),(l()(),_._3(null,["\n    "]))],function(l,n){l(n,15,0,n.component.pages)},null)}function a(l){return _._1(0,[(l()(),_._2(0,null,null,13,"section",[["class","main"]],null,null,null,null,null)),(l()(),_._3(null,["\n  "])),(l()(),_._2(0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(l()(),_._3(null,["\n    "])),(l()(),_._7(16777216,null,null,1,null,t)),_._8(16384,null,0,g.i,[_._9,_._10],{ngIf:[0,"ngIf"]},null),(l()(),_._3(null,["\n    "])),(l()(),_._7(16777216,null,null,1,null,i)),_._8(16384,null,0,g.i,[_._9,_._10],{ngIf:[0,"ngIf"]},null),(l()(),_._3(null,["\n\n    "])),(l()(),_._7(16777216,null,null,1,null,s)),_._8(16384,null,0,g.i,[_._9,_._10],{ngIf:[0,"ngIf"]},null),(l()(),_._3(null,["\n  "])),(l()(),_._3(null,["\n"]))],function(l,n){var u=n.component;l(n,5,0,!u.path),l(n,8,0,u.games.length>0),l(n,11,0,u.pages.length>0&&"users-requests"!==u.path)},null)}function c(l){return _._1(0,[(l()(),_._2(0,null,null,1,"app-games-list",[],null,null,null,a,I)),_._8(245760,null,0,b.a,[m.a,d.a,v.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var o=u("viZ1"),_=u("/oeL"),h=u("/yWU"),f=u("h4fv"),p=u("v1eE"),m=u("UqtS"),d=u("BkNc"),g=u("qbdv"),b=u("yk11"),v=u("rxyX");u.d(n,"c",function(){return I}),n.b=a,u.d(n,"a",function(){return S});var y=[o.a],I=_._0({encapsulation:0,styles:y,data:{}}),S=_._12("app-games-list",b.a,c,{},{},[])},"b8/G":function(l,n,u){"use strict";var t=u("bii3"),e=u("yk11");u.d(n,"a",function(){return i});var i=(e.a,t.a,function(){function l(){}return l}())},bii3:function(l,n,u){"use strict";var t=u("egka"),e=u("v1eE"),i=u("BkNc");u.d(n,"a",function(){return r});var r=function(){function l(l,n){this.route=l,this.tradeService=n,this.formattedToDisplayUser=[]}return l.prototype.ngOnInit=function(){var l=this;window.scrollTo(0,0),this.route.params.subscribe(function(n){n.id&&(l.userInfoSubscription=l.tradeService.getUserInfo(n.id).subscribe(function(n){n.user&&(l.user=new t.a(n.user),l.formatUser())}))})},l.prototype.ngOnDestroy=function(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()},l.prototype.formatUser=function(){var l=this;Object.keys(this.user).forEach(function(n){l.formattedToDisplayUser.push([n,l.user[n]])})},l.ctorParameters=function(){return[{type:i.a},{type:e.a}]},l}()},"bse+":function(l,n,u){"use strict";function t(l){return c._1(0,[(l()(),c._2(0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),c._3(null,["\n                "])),(l()(),c._2(0,null,null,4,"td",[],null,null,null,null,null)),(l()(),c._3(null,["\n                  "])),(l()(),c._2(0,null,null,1,"strong",[],[[8,"innerText",0]],null,null,null,null)),c._4(1),(l()(),c._3(null,["\n                "])),(l()(),c._3(null,["\n                "])),(l()(),c._2(0,null,null,3,"td",[],null,null,null,null,null)),(l()(),c._3(null,["\n                  "])),(l()(),c._2(0,null,null,0,"span",[],[[8,"innerText",0]],null,null,null,null)),(l()(),c._3(null,["\n                "])),(l()(),c._3(null,["\n              "]))],null,function(l,n){l(n,4,0,c._5(n,4,0,l(n,5,0,c._6(n.parent.parent.parent,0),n.context.$implicit[0]))),l(n,10,0,n.context.$implicit[1]||"")})}function e(l){return c._1(0,[(l()(),c._3(null,["\n              "])),(l()(),c._7(16777216,null,null,1,null,t)),c._8(802816,null,0,o.h,[c._9,c._10,c.l],{ngForOf:[0,"ngForOf"]},null),(l()(),c._3(null,["\n            "]))],function(l,n){l(n,2,0,n.component.formattedToDisplayUser)},null)}function i(l){return c._1(0,[(l()(),c._2(0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(l()(),c._3(null,["\n    "])),(l()(),c._2(0,null,null,4,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),c._3(null,["\n      "])),(l()(),c._2(0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),c._3(null,["User details"])),(l()(),c._3(null,["\n    "])),(l()(),c._3(null,["\n    "])),(l()(),c._2(0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),c._3(null,["\n      "])),(l()(),c._2(0,null,null,10,"div",[["class","col-xs-12 col-md-12"]],null,null,null,null,null)),(l()(),c._3(null,["\n        "])),(l()(),c._2(0,null,null,7,"table",[["class","table table-striped table-bordered"]],null,null,null,null,null)),(l()(),c._3(null,["\n          "])),(l()(),c._2(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),c._3(null,["\n            "])),(l()(),c._7(16777216,null,null,1,null,e)),c._8(16384,null,0,o.i,[c._9,c._10],{ngIf:[0,"ngIf"]},null),(l()(),c._3(null,["\n          "])),(l()(),c._3(null,["\n        "])),(l()(),c._3(null,["\n      "])),(l()(),c._3(null,["\n    "])),(l()(),c._3(null,["\n  "]))],function(l,n){l(n,17,0,n.component.formattedToDisplayUser.length>0)},null)}function r(l){return c._1(0,[c._11(0,o.j,[]),(l()(),c._2(0,null,null,4,"section",[["class","main"]],null,null,null,null,null)),(l()(),c._3(null,["\n  "])),(l()(),c._7(16777216,null,null,1,null,i)),c._8(16384,null,0,o.i,[c._9,c._10],{ngIf:[0,"ngIf"]},null),(l()(),c._3(null,["\n"]))],function(l,n){l(n,4,0,n.component.user)},null)}function s(l){return c._1(0,[(l()(),c._2(0,null,null,1,"app-game-details",[],null,null,null,r,m)),c._8(245760,null,0,_.a,[h.a,f.a],null,null)],function(l,n){l(n,1,0)},null)}var a=u("Gmxc"),c=u("/oeL"),o=u("qbdv"),_=u("bii3"),h=u("BkNc"),f=u("v1eE");u.d(n,"a",function(){return d});var p=[a.a],m=c._0({encapsulation:0,styles:p,data:{}}),d=c._12("app-game-details",_.a,s,{},{},[])},egka:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(l){this.username=l.username||"",this.email=l.email||"",this.firstName=l.firstName||"",this.lastName=l.lastName||"",this.age=l.age||"",this.location=l.location||"",this.phone=l.phone||""}return l}()},h4fv:function(l,n,u){"use strict";var t=u("BkNc"),e=u("v1eE"),i=u("UqtS"),r=u("lIdg");u.d(n,"a",function(){return s});var s=function(){function l(l,n,u){this.tradeService=l,this.authService=n,this.route=u,this.authIsOwner=!1,this.gameIsRequested=!1}return l.prototype.ngOnInit=function(){var l=this;this.userGame=new r.a(this.game),this.authUser=this.authService.authUser,this.route.url.subscribe(function(n){n[0]&&(l.path=n[0].path)}),this.userUpdatedSubscription=this.authService.userUpdated.subscribe(function(n){l.authUser=n,l.gameIsRequested=l.isRequested()}),this.authUser&&this.userGame.owner&&(this.authIsOwner=this.userGame.owner._id===this.authUser._id,this.gameIsRequested=this.isRequested())},l.prototype.ngOnDestroy=function(){this.userUpdatedSubscription&&this.userUpdatedSubscription.unsubscribe(),this.addToCollectionSubscription&&this.addToCollectionSubscription.unsubscribe(),this.getAuthUserSubscription&&this.getAuthUserSubscription.unsubscribe(),this.requestGameSubscription&&this.requestGameSubscription.unsubscribe(),this.discardGameSubscription&&this.discardGameSubscription.unsubscribe(),this.restractGameSubscription&&this.restractGameSubscription.unsubscribe()},l.prototype.addGame=function(){var l=this;this.userGame&&(this.addToCollectionSubscription=this.tradeService.addToCollection(this.userGame).subscribe(function(n){0===n.errors.length&&(l.notification="Game added !",l.getAuthUserSubscription=l.authService.getAuthenticatedUser().subscribe(),setTimeout(function(){l.notification=null},1e3))}))},l.prototype.requestGame=function(){var l=this;this.requestGameSubscription=this.tradeService.requestGame(this.userGame._id).subscribe(function(n){0===n.errors.length?l.authUser=l.authService.authUser:l.notification=n.errors[0]})},l.prototype.retract=function(){var l=this;this.restractGameSubscription=this.tradeService.retract(this.userGame._id).subscribe(function(n){0===n.errors.length?l.authUser=l.authService.authUser:l.notification=n.errors[0]})},l.prototype.discard=function(){var l=this;this.discardGameSubscription=this.tradeService.discard(this.userGame._id).subscribe(function(n){0===n.errors.length?l.authUser=l.authService.authUser:l.notification=n.errors[0]})},l.prototype.isRequested=function(){var l=this,n=0;return this.authUser.myRequests.forEach(function(u){u._id===l.userGame._id&&n++}),n>0},l.ctorParameters=function(){return[{type:e.a},{type:i.a},{type:t.a}]},l}()},kyEJ:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l}()},lIdg:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(l){this._id=l._id||"",this.name=l.name||"",this.url=l.url||"",this.summary=l.summary||"",this.coverUrl=l.coverUrl||(l.cover?"https:"+l.cover.url:"http://via.placeholder.com/90x90"),this.owner=l.owner||null,this.available=l.avalable||!0,this.requestedBy=l.requestedBy||[],this.authIsOwner=l.authIsOwner||!1}return l}()},topO:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=[""]},viZ1:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=[""]},yk11:function(l,n,u){"use strict";var t=u("v1eE"),e=u("rxyX"),i=u("UqtS"),r=u("BkNc");u.d(n,"a",function(){return s});var s=function(){function l(l,n,u,t){this.authService=l,this.route=n,this.gameSearchService=u,this.tradeService=t,this.games=[],this.pageItems=[],this.itemsPerPage=6,this.pages=[],this.index=0}return l.prototype.ngOnInit=function(){var l=this;this.gamesUpdatedSubscription=this.gameSearchService.gamesUpdated.subscribe(function(n){l.games=n||[],l.paginate()}),this.handleGamesPerPath(),this.userUpdatedSubscription=this.authService.userUpdated.subscribe(function(n){l.authUser=n,l.handleGamesPerPath()})},l.prototype.ngOnDestroy=function(){this.gamesUpdatedSubscription&&this.gamesUpdatedSubscription.unsubscribe(),this.userUpdatedSubscription&&this.userUpdatedSubscription.unsubscribe()},l.prototype.getAllGames=function(){var l=this;this.tradeService.getAllGames().subscribe(function(n){l.games=n,l.paginate()})},l.prototype.paginate=function(){this.pages=[];for(var l=Math.ceil(this.games.length/this.itemsPerPage),n=0;n<l;n++)this.pages.push(n);this.pageItems=this.games.slice(this.index,this.itemsPerPage+this.index)},l.prototype.nextPage=function(){this.index+=this.itemsPerPage,this.index=Math.max(0,Math.min(this.index,(this.pages.length-1)*this.itemsPerPage)),this.paginate(),window.scrollTo(0,0)},l.prototype.previousPage=function(){this.index-=this.itemsPerPage,this.index=Math.max(0,Math.min(this.index,(this.pages.length-1)*this.itemsPerPage)),this.paginate(),window.scrollTo(0,0)},l.prototype.onPageNumberClick=function(l){this.index=this.itemsPerPage*l,this.paginate(),window.scrollTo(0,0)},l.prototype.handleGamesPerPath=function(){var l=this;this.route.url.subscribe(function(n){switch(l.path=n[0]?n[0].path:null,l.authUser=l.authService.authUser,l.path){case"my-games":l.authUser&&(l.games=l.authUser.myGames,l.paginate());break;case"my-requests":l.authUser&&(l.games=l.authUser.myRequests,l.paginate());break;case"add-games":break;case"users-requests":l.authUser&&(l.games=l.authUser.myGames,l.paginate());break;default:return l.getAllGames()}})},l.ctorParameters=function(){return[{type:i.a},{type:r.a},{type:e.a},{type:t.a}]},l}()}});